{% extends 'base.html.twig' %}

{% block body %}

<div class="min-h-screen flex items-center justify-center bg-gray-900">

    <div class="w-full max-w-md bg-gray-800 rounded-2xl shadow-xl p-8">

        <h1 class="text-3xl font-bold text-center text-white mb-6">
            Connexion
        </h1>

        {% if error %}
            <div class="bg-red-500 text-white p-3 rounded mb-4 text-sm">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %}

        <form method="post" class="space-y-5">

            <div>
                <label class="block text-gray-400 text-sm mb-2">
                    Email
                </label>
                <input type="email"
                       name="_username"
                       value="{{ last_username }}"
                       required
                       autofocus
                       class="w-full px-4 py-2 rounded-lg bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>

            <div>
                <label class="block text-gray-400 text-sm mb-2">
                    Mot de passe
                </label>
                <div class="relative">
                    <input type="password"
                           name="_password"
                           id="password"
                           required
                           class="w-full px-4 py-2 rounded-lg bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <button type="button"
                            onclick="togglePassword()"
                            class="absolute right-3 top-2 text-gray-400 text-sm">
                        üëÅ
                    </button>
                </div>
            </div>

            <input type="hidden"
                   name="_csrf_token"
                   value="{{ csrf_token('authenticate') }}">

            <button type="submit"
                    class="w-full bg-blue-600 hover:bg-blue-700 transition duration-200 text-white py-2 rounded-lg font-semibold">
                Se connecter
            </button>

        </form>

    </div>

</div>

<script>
function togglePassword() {
    const input = document.getElementById('password');
    input.type = input.type === 'password' ? 'text' : 'password';
}
</script>

{% endblock %}
